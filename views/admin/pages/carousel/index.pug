extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/alert.pug
include ../../mixins/pagination.pug
include ../../mixins/moment.pug

block main
  +alert-success(5000)
  +alert-error(5000)
  .row
    .col-lg-12.p-4
      h3.mb-4 CAROUSEL
      // Carousel sections
      .card.border-0.shadow.mb-4
        .card-body
          .d-flex.align-items-center.justify-content-between.mb-3
            h5.card-title.m-0 Images
            button.btn.btn-dark.shadow-none.btn-sm(
              data-bs-target="#carousel-s" 
              data-bs-toggle="modal" 
              type="button"
              )
              i.bi.bi-plus-square 
              | Add
          #carousel-data.row
            each carousel in carousels 
              each image in carousel.images
                .col-md-4.mb-3
                  .card.bg-dark.text-white
                    img.card-img(src=`${image}`)
                    .card-img-overlay.text-end
                      button.btn.btn-danger.btn-sm.shadow-none(
                        onclick=`rem_image("${image}")`  
                        type="button"
                        )
                        i.bi.bi-trash 
                        | Delete
      #carousel-s.modal.fade(
        aria-hidden="true" 
        aria-labelledby="staticBackdropLabel" 
        tabindex="-1" 
        data-bs-keyboard="true" 
        data-bs-backdrop="static"
        )
        .modal-dialog
          form(
            id="form-carousel"
            action=`${prefixAdmin}/carousel/upload`
            method="POST"
            enctype="multipart/form-data"
          )
            .modal-content
              .modal-header
                h5.modal-title Add Image
                button.btn-close(
                  aria-label="Close" 
                  data-bs-dismiss="modal" 
                  type="button"
                  )
              .modal-body
                .mb-3
                  label.form-label.fw-bold Picture
                  input.form-control.shadow-none(
                    required="" 
                    accept=".jpg, .png, .webp, .jpeg" 
                    id="images" 
                    name="images" 
                    type="file"
                    multiple 
                  )
              .modal-footer
                button.btn.text-secondary.shadow-none(
                  data-bs-dismiss="modal" 
                  onclick="carousel_picture.value=''" 
                  type="button"
                  ) CANCEL
                button.btn.custom-bg.text-white.shadow-none(type="submit") SUBMIT

  script(src="/admin/js/carousel.js")